<script>
  let spinner_html = `
  <span class="tw-loading tw-loading-spinner tw-loading-lg bg-white"></span>
`;

  function addOverlay(element_id) {
    let el = document.querySelector(`#${element_id}`);
    if (!el) {
      notyf.error("Not found element in document!")
      return
    }
    const loader = document.createElement("div");
    loader.classList =
      "overlay absolute left-0 top-0 z-10 flex h-full w-full items-center justify-center rounded-2xl";
    loader.innerHTML = spinner_html;
    loader.setAttribute("name", "loader");
    el.appendChild(loader);
  }

  function removeOverlay(element_id) {
    let el = document.querySelector(`#${element_id}`);
    const loader = el.querySelector('[name="loader"]');
    if (loader) {
      loader.remove();
    } else {
      notyf.error("Not found overlay in select element!")
    }
  }

  const setTheme = () => {
    const dark_themes = ['dark', 'dim', 'sunset']
    const theme = localStorage.getItem("theme") || "sunset";
    document.querySelector("body").setAttribute("data-theme", theme);

    if (dark_themes.includes(theme)) {
      document.body.classList.add("dark")
    } else {
      document.body.classList.remove("dark")
    }
  };
  setTheme();
</script>